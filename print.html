<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Moon Manual</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-ae938929.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-da375e6c.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-6fac89d0.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">Moon Manual</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="moved-to-httpsdocsmoonbitlangcomenlatesttoolchainindexhtml"><a class="header" href="#moved-to-httpsdocsmoonbitlangcomenlatesttoolchainindexhtml">Moved to <a href="https://docs.moonbitlang.com/en/latest/toolchain/index.html">https://docs.moonbitlang.com/en/latest/toolchain/index.html</a></a></h1>
<p>This page only retains the command-line documentation and the configuration JSON Schema.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="command-line-help-for-moon"><a class="header" href="#command-line-help-for-moon">Command-Line Help for <code>moon</code></a></h1>
<p>This document contains the help content for the <code>moon</code> command-line program.</p>
<p><strong>Command Overview:</strong></p>
<ul>
<li><a href="#moon"><code>moon</code>↴</a></li>
<li><a href="#moon-new"><code>moon new</code>↴</a></li>
<li><a href="#moon-build"><code>moon build</code>↴</a></li>
<li><a href="#moon-check"><code>moon check</code>↴</a></li>
<li><a href="#moon-run"><code>moon run</code>↴</a></li>
<li><a href="#moon-test"><code>moon test</code>↴</a></li>
<li><a href="#moon-clean"><code>moon clean</code>↴</a></li>
<li><a href="#moon-fmt"><code>moon fmt</code>↴</a></li>
<li><a href="#moon-doc"><code>moon doc</code>↴</a></li>
<li><a href="#moon-info"><code>moon info</code>↴</a></li>
<li><a href="#moon-bench"><code>moon bench</code>↴</a></li>
<li><a href="#moon-add"><code>moon add</code>↴</a></li>
<li><a href="#moon-remove"><code>moon remove</code>↴</a></li>
<li><a href="#moon-install"><code>moon install</code>↴</a></li>
<li><a href="#moon-tree"><code>moon tree</code>↴</a></li>
<li><a href="#moon-fetch"><code>moon fetch</code>↴</a></li>
<li><a href="#moon-login"><code>moon login</code>↴</a></li>
<li><a href="#moon-register"><code>moon register</code>↴</a></li>
<li><a href="#moon-publish"><code>moon publish</code>↴</a></li>
<li><a href="#moon-package"><code>moon package</code>↴</a></li>
<li><a href="#moon-update"><code>moon update</code>↴</a></li>
<li><a href="#moon-coverage"><code>moon coverage</code>↴</a></li>
<li><a href="#moon-coverage-analyze"><code>moon coverage analyze</code>↴</a></li>
<li><a href="#moon-coverage-report"><code>moon coverage report</code>↴</a></li>
<li><a href="#moon-coverage-clean"><code>moon coverage clean</code>↴</a></li>
<li><a href="#moon-generate-build-matrix"><code>moon generate-build-matrix</code>↴</a></li>
<li><a href="#moon-upgrade"><code>moon upgrade</code>↴</a></li>
<li><a href="#moon-shell-completion"><code>moon shell-completion</code>↴</a></li>
<li><a href="#moon-version"><code>moon version</code>↴</a></li>
</ul>
<h2 id="moon"><a class="header" href="#moon"><code>moon</code></a></h2>
<p><strong>Usage:</strong> <code>moon &lt;COMMAND&gt;</code></p>
<h6 id="subcommands"><a class="header" href="#subcommands"><strong>Subcommands:</strong></a></h6>
<ul>
<li><code>new</code> — Create a new MoonBit module</li>
<li><code>build</code> — Build the current package</li>
<li><code>check</code> — Check the current package, but don’t build object files</li>
<li><code>run</code> — Run a main package</li>
<li><code>test</code> — Test the current package</li>
<li><code>clean</code> — Remove the _build directory</li>
<li><code>fmt</code> — Format source code</li>
<li><code>doc</code> — Generate documentation or searching documentation for a symbol</li>
<li><code>info</code> — Generate public interface (<code>.mbti</code>) files for all packages in the module</li>
<li><code>bench</code> — Run benchmarks in the current package</li>
<li><code>add</code> — Add a dependency</li>
<li><code>remove</code> — Remove a dependency</li>
<li><code>install</code> — Install a binary package globally or install project dependencies (deprecated without args)</li>
<li><code>tree</code> — Display the dependency tree</li>
<li><code>fetch</code> — Download a package to .repos directory (unstable)</li>
<li><code>login</code> — Log in to your account</li>
<li><code>register</code> — Register an account at mooncakes.io</li>
<li><code>publish</code> — Publish the current module</li>
<li><code>package</code> — Package the current module</li>
<li><code>update</code> — Update the package registry index</li>
<li><code>coverage</code> — Code coverage utilities</li>
<li><code>generate-build-matrix</code> — Generate build matrix for benchmarking (legacy feature)</li>
<li><code>upgrade</code> — Upgrade toolchains</li>
<li><code>shell-completion</code> — Generate shell completion for bash/elvish/fish/pwsh/zsh to stdout</li>
<li><code>version</code> — Print version information and exit</li>
</ul>
<h2 id="moon-new"><a class="header" href="#moon-new"><code>moon new</code></a></h2>
<p>Create a new MoonBit module</p>
<p><strong>Usage:</strong> <code>moon new [OPTIONS] &lt;PATH&gt;</code></p>
<h6 id="arguments"><a class="header" href="#arguments"><strong>Arguments:</strong></a></h6>
<ul>
<li><code>&lt;PATH&gt;</code> — The path of the new project</li>
</ul>
<h6 id="options"><a class="header" href="#options"><strong>Options:</strong></a></h6>
<ul>
<li><code>--user &lt;USER&gt;</code> — The username of the module. Default to the logged-in username</li>
<li><code>--name &lt;NAME&gt;</code> — The name of the module. Default to the last part of the path</li>
</ul>
<h2 id="moon-build"><a class="header" href="#moon-build"><code>moon build</code></a></h2>
<p>Build the current package</p>
<p><strong>Usage:</strong> <code>moon build [OPTIONS] [PATH]</code></p>
<h6 id="arguments-1"><a class="header" href="#arguments-1"><strong>Arguments:</strong></a></h6>
<ul>
<li><code>&lt;PATH&gt;</code> — The path to the package that should be built</li>
</ul>
<h6 id="options-1"><a class="header" href="#options-1"><strong>Options:</strong></a></h6>
<ul>
<li>
<p><code>--std</code> — Enable the standard library (default)</p>
</li>
<li>
<p><code>--nostd</code> — Disable the standard library</p>
</li>
<li>
<p><code>-g</code>, <code>--debug</code> — Emit debug information</p>
</li>
<li>
<p><code>--release</code> — Compile in release mode</p>
</li>
<li>
<p><code>--strip</code> — Enable stripping debug information</p>
</li>
<li>
<p><code>--no-strip</code> — Disable stripping debug information</p>
</li>
<li>
<p><code>--target &lt;TARGET&gt;</code> — Select output target</p>
<p>Possible values: <code>wasm</code>, <code>wasm-gc</code>, <code>js</code>, <code>native</code>, <code>llvm</code>, <code>all</code></p>
</li>
<li>
<p><code>--enable-coverage</code> — Enable coverage instrumentation</p>
</li>
<li>
<p><code>--sort-input</code> — Sort input files</p>
</li>
<li>
<p><code>--output-wat</code> — Output WAT instead of WASM</p>
</li>
<li>
<p><code>-d</code>, <code>--deny-warn</code> — Treat all warnings as errors</p>
</li>
<li>
<p><code>--no-render</code> — Don’t render diagnostics (in raw human-readable format)</p>
</li>
<li>
<p><code>--output-json</code> — Output diagnostics in JSON format</p>
</li>
<li>
<p><code>--warn-list &lt;WARN_LIST&gt;</code> — Warn list config</p>
</li>
<li>
<p><code>--alert-list &lt;ALERT_LIST&gt;</code> — Alert list config</p>
</li>
<li>
<p><code>-j</code>, <code>--jobs &lt;JOBS&gt;</code> — Set the max number of jobs to run in parallel</p>
</li>
<li>
<p><code>--render-no-loc &lt;MIN_LEVEL&gt;</code> — Render no-location diagnostics starting from a certain level</p>
<p>Default value: <code>error</code></p>
<p>Possible values: <code>info</code>, <code>warn</code>, <code>error</code></p>
</li>
<li>
<p><code>--frozen</code> — Do not sync dependencies, assuming local dependencies are up-to-date</p>
</li>
<li>
<p><code>-w</code>, <code>--watch</code> — Monitor the file system and automatically build artifacts</p>
</li>
</ul>
<h2 id="moon-check"><a class="header" href="#moon-check"><code>moon check</code></a></h2>
<p>Check the current package, but don’t build object files</p>
<p><strong>Usage:</strong> <code>moon check [OPTIONS] [PATH]</code></p>
<h6 id="arguments-2"><a class="header" href="#arguments-2"><strong>Arguments:</strong></a></h6>
<ul>
<li><code>&lt;PATH&gt;</code> — Check single file (.mbt or .mbt.md)</li>
</ul>
<h6 id="options-2"><a class="header" href="#options-2"><strong>Options:</strong></a></h6>
<ul>
<li>
<p><code>--std</code> — Enable the standard library (default)</p>
</li>
<li>
<p><code>--nostd</code> — Disable the standard library</p>
</li>
<li>
<p><code>-g</code>, <code>--debug</code> — Emit debug information</p>
</li>
<li>
<p><code>--release</code> — Compile in release mode</p>
</li>
<li>
<p><code>--strip</code> — Enable stripping debug information</p>
</li>
<li>
<p><code>--no-strip</code> — Disable stripping debug information</p>
</li>
<li>
<p><code>--target &lt;TARGET&gt;</code> — Select output target</p>
<p>Possible values: <code>wasm</code>, <code>wasm-gc</code>, <code>js</code>, <code>native</code>, <code>llvm</code>, <code>all</code></p>
</li>
<li>
<p><code>--enable-coverage</code> — Enable coverage instrumentation</p>
</li>
<li>
<p><code>--sort-input</code> — Sort input files</p>
</li>
<li>
<p><code>--output-wat</code> — Output WAT instead of WASM</p>
</li>
<li>
<p><code>-d</code>, <code>--deny-warn</code> — Treat all warnings as errors</p>
</li>
<li>
<p><code>--no-render</code> — Don’t render diagnostics (in raw human-readable format)</p>
</li>
<li>
<p><code>--output-json</code> — Output diagnostics in JSON format</p>
</li>
<li>
<p><code>--warn-list &lt;WARN_LIST&gt;</code> — Warn list config</p>
</li>
<li>
<p><code>--alert-list &lt;ALERT_LIST&gt;</code> — Alert list config</p>
</li>
<li>
<p><code>-j</code>, <code>--jobs &lt;JOBS&gt;</code> — Set the max number of jobs to run in parallel</p>
</li>
<li>
<p><code>--render-no-loc &lt;MIN_LEVEL&gt;</code> — Render no-location diagnostics starting from a certain level</p>
<p>Default value: <code>error</code></p>
<p>Possible values: <code>info</code>, <code>warn</code>, <code>error</code></p>
</li>
<li>
<p><code>--frozen</code> — Do not sync dependencies, assuming local dependencies are up-to-date</p>
</li>
<li>
<p><code>-w</code>, <code>--watch</code> — Monitor the file system and automatically check files</p>
</li>
<li>
<p><code>-p</code>, <code>--package-path &lt;PACKAGE_PATH&gt;</code> — The package(and it’s deps) to check</p>
</li>
<li>
<p><code>--patch-file &lt;PATCH_FILE&gt;</code> — The patch file to check, Only valid when checking specified package</p>
</li>
<li>
<p><code>--no-mi</code> — Whether to skip the mi generation, Only valid when checking specified package</p>
</li>
<li>
<p><code>--explain</code> — Whether to explain the error code with details</p>
</li>
<li>
<p><code>--fmt</code> — Check whether the code is properly formatted</p>
</li>
</ul>
<h2 id="moon-run"><a class="header" href="#moon-run"><code>moon run</code></a></h2>
<p>Run a main package</p>
<p><strong>Usage:</strong> <code>moon run [OPTIONS] &lt;PACKAGE_OR_MBT_FILE&gt; [ARGS]...</code></p>
<h6 id="arguments-3"><a class="header" href="#arguments-3"><strong>Arguments:</strong></a></h6>
<ul>
<li><code>&lt;PACKAGE_OR_MBT_FILE&gt;</code> — The package or .mbt file to run</li>
<li><code>&lt;ARGS&gt;</code> — The arguments provided to the program to be run</li>
</ul>
<h6 id="options-3"><a class="header" href="#options-3"><strong>Options:</strong></a></h6>
<ul>
<li>
<p><code>--std</code> — Enable the standard library (default)</p>
</li>
<li>
<p><code>--nostd</code> — Disable the standard library</p>
</li>
<li>
<p><code>-g</code>, <code>--debug</code> — Emit debug information</p>
</li>
<li>
<p><code>--release</code> — Compile in release mode</p>
</li>
<li>
<p><code>--strip</code> — Enable stripping debug information</p>
</li>
<li>
<p><code>--no-strip</code> — Disable stripping debug information</p>
</li>
<li>
<p><code>--target &lt;TARGET&gt;</code> — Select output target</p>
<p>Possible values: <code>wasm</code>, <code>wasm-gc</code>, <code>js</code>, <code>native</code>, <code>llvm</code>, <code>all</code></p>
</li>
<li>
<p><code>--enable-coverage</code> — Enable coverage instrumentation</p>
</li>
<li>
<p><code>--sort-input</code> — Sort input files</p>
</li>
<li>
<p><code>--output-wat</code> — Output WAT instead of WASM</p>
</li>
<li>
<p><code>-d</code>, <code>--deny-warn</code> — Treat all warnings as errors</p>
</li>
<li>
<p><code>--no-render</code> — Don’t render diagnostics (in raw human-readable format)</p>
</li>
<li>
<p><code>--output-json</code> — Output diagnostics in JSON format</p>
</li>
<li>
<p><code>--warn-list &lt;WARN_LIST&gt;</code> — Warn list config</p>
</li>
<li>
<p><code>--alert-list &lt;ALERT_LIST&gt;</code> — Alert list config</p>
</li>
<li>
<p><code>-j</code>, <code>--jobs &lt;JOBS&gt;</code> — Set the max number of jobs to run in parallel</p>
</li>
<li>
<p><code>--render-no-loc &lt;MIN_LEVEL&gt;</code> — Render no-location diagnostics starting from a certain level</p>
<p>Default value: <code>error</code></p>
<p>Possible values: <code>info</code>, <code>warn</code>, <code>error</code></p>
</li>
<li>
<p><code>--frozen</code> — Do not sync dependencies, assuming local dependencies are up-to-date</p>
</li>
<li>
<p><code>--build-only</code> — Only build, do not run the code</p>
</li>
</ul>
<h2 id="moon-test"><a class="header" href="#moon-test"><code>moon test</code></a></h2>
<p>Test the current package</p>
<p><strong>Usage:</strong> <code>moon test [OPTIONS] [PATH]</code></p>
<h6 id="arguments-4"><a class="header" href="#arguments-4"><strong>Arguments:</strong></a></h6>
<ul>
<li><code>&lt;PATH&gt;</code> — Run test in single file or directory. If in a project, runs only this package (if matches a package path) or file (if matches a file in package); otherwise, runs in a temporary project</li>
</ul>
<h6 id="options-4"><a class="header" href="#options-4"><strong>Options:</strong></a></h6>
<ul>
<li>
<p><code>--std</code> — Enable the standard library (default)</p>
</li>
<li>
<p><code>--nostd</code> — Disable the standard library</p>
</li>
<li>
<p><code>-g</code>, <code>--debug</code> — Emit debug information</p>
</li>
<li>
<p><code>--release</code> — Compile in release mode</p>
</li>
<li>
<p><code>--strip</code> — Enable stripping debug information</p>
</li>
<li>
<p><code>--no-strip</code> — Disable stripping debug information</p>
</li>
<li>
<p><code>--target &lt;TARGET&gt;</code> — Select output target</p>
<p>Possible values: <code>wasm</code>, <code>wasm-gc</code>, <code>js</code>, <code>native</code>, <code>llvm</code>, <code>all</code></p>
</li>
<li>
<p><code>--enable-coverage</code> — Enable coverage instrumentation</p>
</li>
<li>
<p><code>--sort-input</code> — Sort input files</p>
</li>
<li>
<p><code>--output-wat</code> — Output WAT instead of WASM</p>
</li>
<li>
<p><code>-d</code>, <code>--deny-warn</code> — Treat all warnings as errors</p>
</li>
<li>
<p><code>--no-render</code> — Don’t render diagnostics (in raw human-readable format)</p>
</li>
<li>
<p><code>--output-json</code> — Output diagnostics in JSON format</p>
</li>
<li>
<p><code>--warn-list &lt;WARN_LIST&gt;</code> — Warn list config</p>
</li>
<li>
<p><code>--alert-list &lt;ALERT_LIST&gt;</code> — Alert list config</p>
</li>
<li>
<p><code>-j</code>, <code>--jobs &lt;JOBS&gt;</code> — Set the max number of jobs to run in parallel</p>
</li>
<li>
<p><code>--render-no-loc &lt;MIN_LEVEL&gt;</code> — Render no-location diagnostics starting from a certain level</p>
<p>Default value: <code>error</code></p>
<p>Possible values: <code>info</code>, <code>warn</code>, <code>error</code></p>
</li>
<li>
<p><code>-p</code>, <code>--package &lt;PACKAGE&gt;</code> — Run test in the specified package</p>
</li>
<li>
<p><code>-f</code>, <code>--file &lt;FILE&gt;</code> — Run test in the specified file. Only valid when <code>--package</code> is also specified</p>
</li>
<li>
<p><code>-i</code>, <code>--index &lt;INDEX&gt;</code> — Run only the index-th test in the file. Accepts a single index or a left-inclusive right-exclusive range like <code>0-2</code>. Only valid when <code>--file</code> is also specified. Implies <code>--include-skipped</code></p>
</li>
<li>
<p><code>--doc-index &lt;DOC_INDEX&gt;</code> — Run only the index-th doc test in the file. Only valid when <code>--file</code> is also specified. Implies <code>--include-skipped</code></p>
</li>
<li>
<p><code>-u</code>, <code>--update</code> — Update the test snapshot</p>
</li>
<li>
<p><code>-l</code>, <code>--limit &lt;LIMIT&gt;</code> — Limit of expect test update passes to run, in order to avoid infinite loops</p>
<p>Default value: <code>256</code></p>
</li>
<li>
<p><code>--frozen</code> — Do not sync dependencies, assuming local dependencies are up-to-date</p>
</li>
<li>
<p><code>--build-only</code> — Only build, do not run the tests</p>
</li>
<li>
<p><code>--no-parallelize</code> — Run the tests in a target backend sequentially</p>
</li>
<li>
<p><code>--outline</code> — Print the outline of tests to be executed and exit</p>
</li>
<li>
<p><code>--test-failure-json</code> — Print failure message in JSON format</p>
</li>
<li>
<p><code>--patch-file &lt;PATCH_FILE&gt;</code> — Path to the patch file</p>
</li>
<li>
<p><code>--doc</code> — Run doc test</p>
</li>
<li>
<p><code>--include-skipped</code> — Include skipped tests. Automatically implied when <code>--[doc-]index</code> is set</p>
</li>
<li>
<p><code>-F</code>, <code>--filter &lt;FILTER&gt;</code> — Run only tests whose name matches the given glob pattern. Supports ‘*’ (matches any sequence) and ‘?’ (matches any single character)</p>
</li>
</ul>
<h2 id="moon-clean"><a class="header" href="#moon-clean"><code>moon clean</code></a></h2>
<p>Remove the _build directory</p>
<p><strong>Usage:</strong> <code>moon clean</code></p>
<h2 id="moon-fmt"><a class="header" href="#moon-fmt"><code>moon fmt</code></a></h2>
<p>Format source code</p>
<p><strong>Usage:</strong> <code>moon fmt [OPTIONS] [PATH] [-- &lt;ARGS&gt;...]</code></p>
<h6 id="arguments-5"><a class="header" href="#arguments-5"><strong>Arguments:</strong></a></h6>
<ul>
<li><code>&lt;PATH&gt;</code> — Path to a package directory to format</li>
<li><code>&lt;ARGS&gt;</code> — Extra arguments passed to the formatter (after –)</li>
</ul>
<h6 id="options-5"><a class="header" href="#options-5"><strong>Options:</strong></a></h6>
<ul>
<li>
<p><code>--check</code> — Check only and don’t change the source code</p>
</li>
<li>
<p><code>--sort-input</code> — Sort input files</p>
</li>
<li>
<p><code>--block-style &lt;BLOCK_STYLE&gt;</code> — Add separator between each segments</p>
<p>Possible values: <code>false</code>, <code>true</code></p>
</li>
<li>
<p><code>--warn</code> — Warn if code is not properly formatted</p>
</li>
</ul>
<h2 id="moon-doc"><a class="header" href="#moon-doc"><code>moon doc</code></a></h2>
<p>Generate documentation or searching documentation for a symbol</p>
<p><strong>Usage:</strong> <code>moon doc [OPTIONS] [SYMBOL]</code></p>
<h6 id="arguments-6"><a class="header" href="#arguments-6"><strong>Arguments:</strong></a></h6>
<ul>
<li><code>&lt;SYMBOL&gt;</code> — The symbol to query documentation for, e.g. ‘String::from*’ or ‘@list.from*’</li>
</ul>
<h6 id="options-6"><a class="header" href="#options-6"><strong>Options:</strong></a></h6>
<ul>
<li>
<p><code>--serve</code> — Start a web server to serve the documentation</p>
</li>
<li>
<p><code>-b</code>, <code>--bind &lt;BIND&gt;</code> — The address of the server</p>
<p>Default value: <code>127.0.0.1</code></p>
</li>
<li>
<p><code>-p</code>, <code>--port &lt;PORT&gt;</code> — The port of the server</p>
<p>Default value: <code>3000</code></p>
</li>
<li>
<p><code>--frozen</code> — Do not sync dependencies, assuming local dependencies are up-to-date</p>
</li>
</ul>
<h2 id="moon-info"><a class="header" href="#moon-info"><code>moon info</code></a></h2>
<p>Generate public interface (<code>.mbti</code>) files for all packages in the module</p>
<p><strong>Usage:</strong> <code>moon info [OPTIONS] [PATH]</code></p>
<h6 id="arguments-7"><a class="header" href="#arguments-7"><strong>Arguments:</strong></a></h6>
<ul>
<li>
<p><code>&lt;PATH&gt;</code> — The file-system path to the package or file in package to emit <code>mbti</code> files for</p>
<p>Conflicts with <code>--package</code>.</p>
</li>
</ul>
<h6 id="options-7"><a class="header" href="#options-7"><strong>Options:</strong></a></h6>
<ul>
<li>
<p><code>--frozen</code> — Do not sync dependencies, assuming local dependencies are up-to-date</p>
</li>
<li>
<p><code>--target &lt;TARGET&gt;</code> — Select output target</p>
<p>Possible values: <code>wasm</code>, <code>wasm-gc</code>, <code>js</code>, <code>native</code>, <code>llvm</code>, <code>all</code></p>
</li>
<li>
<p><code>-p</code>, <code>--package &lt;PACKAGE&gt;</code> — The full or subset of name of the package to emit <code>mbti</code> files for</p>
</li>
</ul>
<h2 id="moon-bench"><a class="header" href="#moon-bench"><code>moon bench</code></a></h2>
<p>Run benchmarks in the current package</p>
<p><strong>Usage:</strong> <code>moon bench [OPTIONS]</code></p>
<h6 id="options-8"><a class="header" href="#options-8"><strong>Options:</strong></a></h6>
<ul>
<li>
<p><code>--std</code> — Enable the standard library (default)</p>
</li>
<li>
<p><code>--nostd</code> — Disable the standard library</p>
</li>
<li>
<p><code>-g</code>, <code>--debug</code> — Emit debug information</p>
</li>
<li>
<p><code>--release</code> — Compile in release mode</p>
</li>
<li>
<p><code>--strip</code> — Enable stripping debug information</p>
</li>
<li>
<p><code>--no-strip</code> — Disable stripping debug information</p>
</li>
<li>
<p><code>--target &lt;TARGET&gt;</code> — Select output target</p>
<p>Possible values: <code>wasm</code>, <code>wasm-gc</code>, <code>js</code>, <code>native</code>, <code>llvm</code>, <code>all</code></p>
</li>
<li>
<p><code>--enable-coverage</code> — Enable coverage instrumentation</p>
</li>
<li>
<p><code>--sort-input</code> — Sort input files</p>
</li>
<li>
<p><code>--output-wat</code> — Output WAT instead of WASM</p>
</li>
<li>
<p><code>-d</code>, <code>--deny-warn</code> — Treat all warnings as errors</p>
</li>
<li>
<p><code>--no-render</code> — Don’t render diagnostics (in raw human-readable format)</p>
</li>
<li>
<p><code>--output-json</code> — Output diagnostics in JSON format</p>
</li>
<li>
<p><code>--warn-list &lt;WARN_LIST&gt;</code> — Warn list config</p>
</li>
<li>
<p><code>--alert-list &lt;ALERT_LIST&gt;</code> — Alert list config</p>
</li>
<li>
<p><code>-j</code>, <code>--jobs &lt;JOBS&gt;</code> — Set the max number of jobs to run in parallel</p>
</li>
<li>
<p><code>--render-no-loc &lt;MIN_LEVEL&gt;</code> — Render no-location diagnostics starting from a certain level</p>
<p>Default value: <code>error</code></p>
<p>Possible values: <code>info</code>, <code>warn</code>, <code>error</code></p>
</li>
<li>
<p><code>-p</code>, <code>--package &lt;PACKAGE&gt;</code> — Run test in the specified package</p>
</li>
<li>
<p><code>-f</code>, <code>--file &lt;FILE&gt;</code> — Run test in the specified file. Only valid when <code>--package</code> is also specified</p>
</li>
<li>
<p><code>-i</code>, <code>--index &lt;INDEX&gt;</code> — Run only the index-th test in the file. Accepts a single index or a left-inclusive right-exclusive range like <code>0-2</code>. Only valid when <code>--file</code> is also specified</p>
</li>
<li>
<p><code>--frozen</code> — Do not sync dependencies, assuming local dependencies are up-to-date</p>
</li>
<li>
<p><code>--build-only</code> — Only build, do not bench</p>
</li>
<li>
<p><code>--no-parallelize</code> — Run the benchmarks in a target backend sequentially</p>
</li>
</ul>
<h2 id="moon-add"><a class="header" href="#moon-add"><code>moon add</code></a></h2>
<p>Add a dependency</p>
<p><strong>Usage:</strong> <code>moon add [OPTIONS] &lt;PACKAGE_PATH&gt;</code></p>
<h6 id="arguments-8"><a class="header" href="#arguments-8"><strong>Arguments:</strong></a></h6>
<ul>
<li><code>&lt;PACKAGE_PATH&gt;</code> — The package path to add</li>
</ul>
<h6 id="options-9"><a class="header" href="#options-9"><strong>Options:</strong></a></h6>
<ul>
<li><code>--bin</code> — Whether to add the dependency as a binary</li>
<li><code>--no-update</code> — Do not update the registry index before adding the dependency</li>
</ul>
<h2 id="moon-remove"><a class="header" href="#moon-remove"><code>moon remove</code></a></h2>
<p>Remove a dependency</p>
<p><strong>Usage:</strong> <code>moon remove &lt;PACKAGE_PATH&gt;</code></p>
<h6 id="arguments-9"><a class="header" href="#arguments-9"><strong>Arguments:</strong></a></h6>
<ul>
<li><code>&lt;PACKAGE_PATH&gt;</code> — The package path to remove</li>
</ul>
<h2 id="moon-install"><a class="header" href="#moon-install"><code>moon install</code></a></h2>
<p>Install a binary package globally or install project dependencies (deprecated without args)</p>
<p><strong>Usage:</strong> <code>moon install [OPTIONS] [PACKAGE_PATH] [PACKAGE_PATH_IN_REPO]</code></p>
<h6 id="arguments-10"><a class="header" href="#arguments-10"><strong>Arguments:</strong></a></h6>
<ul>
<li><code>&lt;PACKAGE_PATH&gt;</code> — Package path to install (e.g., user/pkg/main or user/pkg/cmd/…) Supports @version suffix (e.g., user/pkg/main@1.0.0) Git URLs are auto-detected (any URL format git supports) Local paths are auto-detected: ./, ../, / (Unix), or drive letter (Windows) If not provided, falls back to legacy behavior (install project dependencies)</li>
<li><code>&lt;PACKAGE_PATH_IN_REPO&gt;</code> — Package path within a git repository (e.g., src/main or cmd/…) Only used with git URLs. Supports /… suffix for wildcard matching</li>
</ul>
<h6 id="options-10"><a class="header" href="#options-10"><strong>Options:</strong></a></h6>
<ul>
<li><code>--bin &lt;BIN&gt;</code> — Specify installation directory (default: ~/.moon/bin/)</li>
<li><code>--path &lt;PATH&gt;</code> — Install from local path instead of registry</li>
<li><code>--rev &lt;REV&gt;</code> — Git revision to checkout (commit hash, requires git URL)</li>
<li><code>--branch &lt;BRANCH&gt;</code> — Git branch to checkout (requires git URL)</li>
<li><code>--tag &lt;TAG&gt;</code> — Git tag to checkout (requires git URL)</li>
</ul>
<h2 id="moon-tree"><a class="header" href="#moon-tree"><code>moon tree</code></a></h2>
<p>Display the dependency tree</p>
<p><strong>Usage:</strong> <code>moon tree</code></p>
<h2 id="moon-fetch"><a class="header" href="#moon-fetch"><code>moon fetch</code></a></h2>
<p>Download a package to .repos directory (unstable)</p>
<p>Note: This is an unstable command and may change or be removed in future versions.</p>
<p><strong>Usage:</strong> <code>moon fetch [OPTIONS] &lt;PACKAGE_PATH&gt;</code></p>
<h6 id="arguments-11"><a class="header" href="#arguments-11"><strong>Arguments:</strong></a></h6>
<ul>
<li><code>&lt;PACKAGE_PATH&gt;</code> — The package to fetch in the form of <author>/&lt;package_name&gt;[@<version>]</version></author></li>
</ul>
<h6 id="options-11"><a class="header" href="#options-11"><strong>Options:</strong></a></h6>
<ul>
<li><code>--no-update</code> — Do not update the registry index before fetching</li>
</ul>
<h2 id="moon-login"><a class="header" href="#moon-login"><code>moon login</code></a></h2>
<p>Log in to your account</p>
<p><strong>Usage:</strong> <code>moon login</code></p>
<h2 id="moon-register"><a class="header" href="#moon-register"><code>moon register</code></a></h2>
<p>Register an account at mooncakes.io</p>
<p><strong>Usage:</strong> <code>moon register</code></p>
<h2 id="moon-publish"><a class="header" href="#moon-publish"><code>moon publish</code></a></h2>
<p>Publish the current module</p>
<p><strong>Usage:</strong> <code>moon publish [OPTIONS]</code></p>
<h6 id="options-12"><a class="header" href="#options-12"><strong>Options:</strong></a></h6>
<ul>
<li><code>--frozen</code> — Do not sync dependencies, assuming local dependencies are up-to-date</li>
</ul>
<h2 id="moon-package"><a class="header" href="#moon-package"><code>moon package</code></a></h2>
<p>Package the current module</p>
<p><strong>Usage:</strong> <code>moon package [OPTIONS]</code></p>
<h6 id="options-13"><a class="header" href="#options-13"><strong>Options:</strong></a></h6>
<ul>
<li><code>--frozen</code> — Do not sync dependencies, assuming local dependencies are up-to-date</li>
<li><code>--list</code></li>
</ul>
<h2 id="moon-update"><a class="header" href="#moon-update"><code>moon update</code></a></h2>
<p>Update the package registry index</p>
<p><strong>Usage:</strong> <code>moon update</code></p>
<h2 id="moon-coverage"><a class="header" href="#moon-coverage"><code>moon coverage</code></a></h2>
<p>Code coverage utilities</p>
<p><strong>Usage:</strong> <code>moon coverage &lt;COMMAND&gt;</code></p>
<h6 id="subcommands-1"><a class="header" href="#subcommands-1"><strong>Subcommands:</strong></a></h6>
<ul>
<li><code>analyze</code> — Run test with instrumentation and report coverage</li>
<li><code>report</code> — Generate code coverage report</li>
<li><code>clean</code> — Clean up coverage artifacts</li>
</ul>
<h2 id="moon-coverage-analyze"><a class="header" href="#moon-coverage-analyze"><code>moon coverage analyze</code></a></h2>
<p>Run test with instrumentation and report coverage</p>
<p><strong>Usage:</strong> <code>moon coverage analyze [OPTIONS] [-- &lt;EXTRA_FLAGS&gt;...]</code></p>
<h6 id="arguments-12"><a class="header" href="#arguments-12"><strong>Arguments:</strong></a></h6>
<ul>
<li><code>&lt;EXTRA_FLAGS&gt;</code> — Extra flags passed directly to <code>moon_cove_report</code></li>
</ul>
<h6 id="options-14"><a class="header" href="#options-14"><strong>Options:</strong></a></h6>
<ul>
<li><code>-p</code>, <code>--package &lt;PACKAGE&gt;</code> — Analyze coverage for a specific package</li>
</ul>
<h2 id="moon-coverage-report"><a class="header" href="#moon-coverage-report"><code>moon coverage report</code></a></h2>
<p>Generate code coverage report</p>
<p><strong>Usage:</strong> <code>moon coverage report [args]... [COMMAND]</code></p>
<h6 id="arguments-13"><a class="header" href="#arguments-13"><strong>Arguments:</strong></a></h6>
<ul>
<li><code>&lt;args&gt;</code> — Arguments to pass to the coverage utility</li>
</ul>
<h6 id="options-15"><a class="header" href="#options-15"><strong>Options:</strong></a></h6>
<ul>
<li><code>-h</code>, <code>--help</code> — Show help for the coverage utility</li>
</ul>
<h2 id="moon-coverage-clean"><a class="header" href="#moon-coverage-clean"><code>moon coverage clean</code></a></h2>
<p>Clean up coverage artifacts</p>
<p><strong>Usage:</strong> <code>moon coverage clean</code></p>
<h2 id="moon-generate-build-matrix"><a class="header" href="#moon-generate-build-matrix"><code>moon generate-build-matrix</code></a></h2>
<p>Generate build matrix for benchmarking (legacy feature)</p>
<p><strong>Usage:</strong> <code>moon generate-build-matrix [OPTIONS] --output-dir &lt;OUT_DIR&gt;</code></p>
<h6 id="options-16"><a class="header" href="#options-16"><strong>Options:</strong></a></h6>
<ul>
<li><code>-n &lt;NUMBER&gt;</code> — Set all of <code>drow</code>, <code>dcol</code>, <code>mrow</code>, <code>mcol</code> to the same value</li>
<li><code>--drow &lt;DIR_ROWS&gt;</code> — Number of directory rows</li>
<li><code>--dcol &lt;DIR_COLS&gt;</code> — Number of directory columns</li>
<li><code>--mrow &lt;MOD_ROWS&gt;</code> — Number of module rows</li>
<li><code>--mcol &lt;MOD_COLS&gt;</code> — Number of module columns</li>
<li><code>-o</code>, <code>--output-dir &lt;OUT_DIR&gt;</code> — The output directory</li>
</ul>
<h2 id="moon-upgrade"><a class="header" href="#moon-upgrade"><code>moon upgrade</code></a></h2>
<p>Upgrade toolchains</p>
<p><strong>Usage:</strong> <code>moon upgrade [OPTIONS]</code></p>
<h6 id="options-17"><a class="header" href="#options-17"><strong>Options:</strong></a></h6>
<ul>
<li><code>-f</code>, <code>--force</code> — Force upgrade</li>
<li><code>--dev</code> — Install the latest development version</li>
</ul>
<h2 id="moon-shell-completion"><a class="header" href="#moon-shell-completion"><code>moon shell-completion</code></a></h2>
<p>Generate shell completion for bash/elvish/fish/pwsh/zsh to stdout</p>
<p><strong>Usage:</strong> <code>moon shell-completion [OPTIONS]</code></p>
<p>Discussion:
Enable tab completion for Bash, Elvish, Fish, Zsh, or PowerShell
The script is output on <code>stdout</code>, allowing one to re-direct the
output to the file of their choosing. Where you place the file
will depend on which shell, and which operating system you are
using. Your particular configuration may also determine where
these scripts need to be placed.</p>
<p>The completion scripts won’t update itself, so you may need to
periodically run this command to get the latest completions.
Or you may put <code>eval "$(moon shell-completion --shell &lt;SHELL&gt;)"</code>
in your shell’s rc file to always load newest completions on startup.
Although it’s considered not as efficient as having the completions
script installed.</p>
<p>Here are some common set ups for the three supported shells under
Unix and similar operating systems (such as GNU/Linux).</p>
<p>Bash:</p>
<p>Completion files are commonly stored in <code>/etc/bash_completion.d/</code> for
system-wide commands, but can be stored in
<code>~/.local/share/bash-completion/completions</code> for user-specific commands.
Run the command:</p>
<pre><code>$ mkdir -p ~/.local/share/bash-completion/completions
$ moon shell-completion --shell bash &gt;&gt; ~/.local/share/bash-completion/completions/moon
</code></pre>
<p>This installs the completion script. You may have to log out and
log back in to your shell session for the changes to take effect.</p>
<p>Bash (macOS/Homebrew):</p>
<p>Homebrew stores bash completion files within the Homebrew directory.
With the <code>bash-completion</code> brew formula installed, run the command:</p>
<pre><code>$ mkdir -p $(brew --prefix)/etc/bash_completion.d
$ moon shell-completion --shell bash &gt; $(brew --prefix)/etc/bash_completion.d/moon.bash-completion
</code></pre>
<p>Fish:</p>
<p>Fish completion files are commonly stored in
<code>$HOME/.config/fish/completions</code>. Run the command:</p>
<pre><code>$ mkdir -p ~/.config/fish/completions
$ moon shell-completion --shell fish &gt; ~/.config/fish/completions/moon.fish
</code></pre>
<p>This installs the completion script. You may have to log out and
log back in to your shell session for the changes to take effect.</p>
<p>Elvish:</p>
<p>Elvish completions are commonly stored in a single <code>completers</code> module.
A typical module search path is <code>~/.config/elvish/lib</code>, and
running the command:</p>
<pre><code>$ moon shell-completion --shell elvish &gt;&gt; ~/.config/elvish/lib/completers.elv
</code></pre>
<p>will install the completions script. Note that use <code>&gt;&gt;</code> (append)
instead of <code>&gt;</code> (overwrite) to prevent overwriting the existing completions
for other commands. Then prepend your rc.elv with:</p>
<pre><code>`use completers`
</code></pre>
<p>to load the <code>completers</code> module and enable completions.</p>
<p>Zsh:</p>
<p>ZSH completions are commonly stored in any directory listed in
your <code>$fpath</code> variable. To use these completions, you must either
add the generated script to one of those directories, or add your
own to this list.</p>
<p>Adding a custom directory is often the safest bet if you are
unsure of which directory to use. First create the directory; for
this example we’ll create a hidden directory inside our <code>$HOME</code>
directory:</p>
<pre><code>$ mkdir ~/.zfunc
</code></pre>
<p>Then add the following lines to your <code>.zshrc</code> just before
<code>compinit</code>:</p>
<pre><code>fpath+=~/.zfunc
</code></pre>
<p>Now you can install the completions script using the following
command:</p>
<pre><code>$ moon shell-completion --shell zsh &gt; ~/.zfunc/_moon
</code></pre>
<p>You must then open a new zsh session, or simply run</p>
<pre><code>$ . ~/.zshrc
</code></pre>
<p>for the new completions to take effect.</p>
<p>Custom locations:</p>
<p>Alternatively, you could save these files to the place of your
choosing, such as a custom directory inside your $HOME. Doing so
will require you to add the proper directives, such as <code>source</code>ing
inside your login script. Consult your shells documentation for
how to add such directives.</p>
<p>PowerShell:</p>
<p>The powershell completion scripts require PowerShell v5.0+ (which
comes with Windows 10, but can be downloaded separately for windows 7
or 8.1).</p>
<p>First, check if a profile has already been set</p>
<pre><code>PS C:\&gt; Test-Path $profile
</code></pre>
<p>If the above command returns <code>False</code> run the following</p>
<pre><code>PS C:\&gt; New-Item -path $profile -type file -force
</code></pre>
<p>Now open the file provided by <code>$profile</code> (if you used the
<code>New-Item</code> command it will be
<code>${env:USERPROFILE}\Documents\WindowsPowerShell\Microsoft.PowerShell_profile.ps1</code></p>
<p>Next, we either save the completions file into our profile, or
into a separate file and source it inside our profile. To save the
completions into our profile simply use</p>
<pre><code>PS C:\&gt; moon shell-completion --shell powershell &gt;&gt;
${env:USERPROFILE}\Documents\WindowsPowerShell\Microsoft.PowerShell_profile.ps1
</code></pre>
<p>This discussion is taken from <code>rustup completions</code> command with some changes.</p>
<h6 id="options-18"><a class="header" href="#options-18"><strong>Options:</strong></a></h6>
<ul>
<li>
<p><code>--shell &lt;SHELL&gt;</code> — The shell to generate completion for</p>
<p>Default value: <code>&lt;your shell&gt;</code></p>
<p>Possible values: <code>bash</code>, <code>elvish</code>, <code>fish</code>, <code>powershell</code>, <code>zsh</code></p>
</li>
</ul>
<h2 id="moon-version"><a class="header" href="#moon-version"><code>moon version</code></a></h2>
<p>Print version information and exit</p>
<p><strong>Usage:</strong> <code>moon version [OPTIONS]</code></p>
<h6 id="options-19"><a class="header" href="#options-19"><strong>Options:</strong></a></h6>
<ul>
<li><code>--all</code> — Print all version information</li>
<li><code>--json</code> — Print version information in JSON format</li>
<li><code>--no-path</code> — Do not print the path</li>
</ul>
<hr />
<p><small><i>
This document was generated automatically by
<a href="https://crates.io/crates/clap-markdown"><code>clap-markdown</code></a>.
</i></small></p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="config-json-schema"><a class="header" href="#config-json-schema">Config JSON Schema</a></h1>
<h2 id="moonmodjson"><a class="header" href="#moonmodjson">moon.mod.json</a></h2>
<iframe src="source/mod_json_schema.html" width="100%" height="500px" frameborder="0"></iframe>
<h2 id="moonpkgjson"><a class="header" href="#moonpkgjson">moon.pkg.json</a></h2>
<iframe src="source/pkg_json_schema.html" width="100%" height="500px" frameborder="0"></iframe>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>


    </div>
    </body>
</html>
