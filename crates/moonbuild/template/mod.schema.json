{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "JSON schema for MoonBit moon.mod.json files",
  "description": "A module of MoonBit lang",
  "type": "object",
  "properties": {
    "name": {
      "description": "name of the module",
      "type": "string"
    },
    "version": {
      "description": "version of the module",
      "type": [
        "string",
        "null"
      ]
    },
    "deps": {
      "description": "third-party dependencies of the module",
      "type": [
        "object",
        "null"
      ],
      "additionalProperties": {
        "$ref": "#/$defs/SourceDependencyInfoJson"
      }
    },
    "bin-deps": {
      "description": "third-party binary dependencies of the module",
      "type": [
        "object",
        "null"
      ],
      "additionalProperties": {
        "$ref": "#/$defs/BinaryDependencyInfoJson"
      }
    },
    "readme": {
      "description": "path to module's README file",
      "type": [
        "string",
        "null"
      ]
    },
    "repository": {
      "description": "url to module's repository",
      "type": [
        "string",
        "null"
      ]
    },
    "license": {
      "description": "license of this module",
      "type": [
        "string",
        "null"
      ]
    },
    "keywords": {
      "description": "keywords of this module",
      "type": [
        "array",
        "null"
      ],
      "items": {
        "type": "string"
      }
    },
    "description": {
      "description": "description of this module",
      "type": [
        "string",
        "null"
      ]
    },
    "source": {
      "description": "source code directory of this module",
      "type": [
        "string",
        "null"
      ]
    },
    "warn-list": {
      "description": "Warn list setting of the module",
      "type": [
        "string",
        "null"
      ]
    },
    "alert-list": {
      "description": "Alert list setting of the module\n    \nPlease use `warn-list` instead. For example, `\"warn-list\": \"-deprecated\"` or `\"warn-list\": \"-alert_unsafe\"`.",
      "type": [
        "string",
        "null"
      ],
      "deprecated": true
    },
    "include": {
      "description": "Files to include when publishing.",
      "type": [
        "array",
        "null"
      ],
      "items": {
        "type": "string"
      }
    },
    "exclude": {
      "description": "Files to exclude when publishing.",
      "type": [
        "array",
        "null"
      ],
      "items": {
        "type": "string"
      }
    },
    "scripts": {
      "description": "Scripts related to the current module.",
      "type": [
        "object",
        "null"
      ],
      "additionalProperties": {
        "type": "string"
      }
    },
    "preferred-target": {
      "description": "The preferred target backend of this module.\n\nToolchains are recommended to use this target as the default target\nwhen the user is not specifying or overriding in any other ways.\nHowever, this is merely a recommendation, and tools may deviate from\nthis value at any time.",
      "type": [
        "string",
        "null"
      ]
    },
    "--moonbit-unstable-prebuild": {
      "description": "**Experimental:** A relative path to the pre-build configuration script.\n\nThe script should be a **JavaScript or Python** file that is able to be\nexecuted with vanilla Node.JS or Python interpreter. Since this is\nexperimental, the API may change at any time without warning.",
      "type": [
        "string",
        "null"
      ]
    }
  },
  "required": [
    "name"
  ],
  "$defs": {
    "SourceDependencyInfoJson": {
      "description": "The JSON representation of a source dependency info",
      "anyOf": [
        {
          "description": "A simple version requirement",
          "type": "string"
        },
        {
          "description": "A detailed dependency info",
          "$ref": "#/$defs/SourceDependencyInfo"
        }
      ]
    },
    "SourceDependencyInfo": {
      "description": "Information about a specific dependency",
      "type": "object",
      "properties": {
        "version": {
          "type": "string"
        },
        "path": {
          "description": "Local path to the dependency. Overrides the version requirement.",
          "type": [
            "string",
            "null"
          ]
        },
        "git": {
          "description": "Git repository URL. Overrides the version requirement.",
          "type": [
            "string",
            "null"
          ]
        },
        "branch": {
          "description": "Git branch to use.",
          "type": [
            "string",
            "null"
          ]
        }
      }
    },
    "BinaryDependencyInfoJson": {
      "description": "The JSON representation of a binary dependency info",
      "anyOf": [
        {
          "description": "A simple version requirement",
          "type": "string"
        },
        {
          "description": "A detailed dependency info",
          "$ref": "#/$defs/BinaryDependencyInfo"
        }
      ]
    },
    "BinaryDependencyInfo": {
      "description": "Information about a specific dependency",
      "type": "object",
      "properties": {
        "version": {
          "type": "string"
        },
        "path": {
          "description": "Local path to the dependency. Overrides the version requirement.",
          "type": [
            "string",
            "null"
          ]
        },
        "git": {
          "description": "Git repository URL. Overrides the version requirement.",
          "type": [
            "string",
            "null"
          ]
        },
        "branch": {
          "description": "Git branch to use.",
          "type": [
            "string",
            "null"
          ]
        },
        "bin_pkg": {
          "description": "Binary packages to compile.",
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "string"
          }
        }
      }
    }
  }
}